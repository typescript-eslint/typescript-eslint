trigger:
  - master

jobs:
- job: validate_commit_and_code
  displayName: Validate commit and code
  pool:
    vmImage: 'Ubuntu-16.04'
  steps:
  - task: NodeTool@0
    inputs:
      versionSpec: 11
    displayName: 'Install Node.js 11'

  - script: | 
      commitlint-travis
      yarn check-format

# - job: run_unit_tests
#   displayName: Run unit tests on multiple Node.js versions
#   pool:
#     vmImage: 'Ubuntu-16.04'
#   strategy:
#     maxParallel: 4
#     matrix:
#       node_11_x:
#         node_version: 11.x
#       node_10_x:
#         node_version: 10.x
#       node_8_x:
#         node_version: 8.x
#       node_6_x:
#         node_version: 6.x
#   steps:
#     - task: NodeTool@0
#       inputs:
#         versionSpec: $(node_version)
#         displayName: 'Install Node.js $(node_version)'

#     - script: |
#         # This also runs a build as part of the postinstall
#         # bootstrap
#         yarn --ignore-engines --frozen-lockfile
#       displayName: 'Install and bootstrap all packages'

#     - script: |
#         yarn test
#       displayName: 'Run unit tests'
